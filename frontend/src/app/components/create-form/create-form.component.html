<!-- form-create.component.html -->
<div class="container">
  <form [formGroup]="form">
    <div class="form-group">
      <label for="formTitle">Form Title</label>
      <input id="formTitle" type="text" formControlName="title" class="form-control" />
    </div>

    <div formArrayName="questions">
      <div *ngFor="let question of questions.controls; let i = index" formGroupName="i">
        <div>
          <label>Question Text:</label>
          <input formControlName="text" class="form-control" />
        </div>
        <div>
          <label>Question Type:</label>
          <input formControlName="type" class="form-control" />
        </div>
        <div formArrayName="options">
          <div *ngFor="let option of getOptions(question).controls; let j = index" formGroupName="j">
            <input formControlName="{{ j }}" class="form-control" />
            <button type="button" (click)="removeOption(question, j)">Remove Option</button>
          </div>
          <button type="button" (click)="addOption(question)">Add Option</button>
        </div>
        <button type="button" (click)="removeQuestion(i)">Remove Question</button>
      </div>
    </div>

    <button type="button" (click)="addQuestion()">Add Question</button>
    <button type="button" (click)="saveForm()">Save Form</button>
  </form>

  <div *ngIf="createdForm">
    <h3>Form Created</h3>
    <pre>{{ createdForm | json }}</pre>
  </div>
</div>
